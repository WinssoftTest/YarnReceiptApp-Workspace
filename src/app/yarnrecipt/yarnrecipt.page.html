<ion-header>
  <ion-toolbar  >
    <ion-title class="title" style="text-align: center !important;font-size: 15px;">PURCHASE YARN RECEIPT</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="home"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="YarnReceiptForm">
    <table style="margin-left: 10px;    width: 100%;"> 
      <tr>
        <td class="label-font"><span> Warehouse  </span></td>
        <td> : </td>
      <td class="label-font Imp" style="color: red;width: 76%;"> 
        <ion-item   style="width:100%;" > 
        <ion-select
          class="label-font-value"
          formControlName="Warehouse"
          [(ngModel)]="Warehouse"
          interface="action-sheet"
          (ionChange)="Warehousechange($event)"
          style="font-family: 'Manrope', sans-serif;
          font-size: 15px !important;
          font-weight: 500;
          max-width: 100%;
           "
           > 
           
          <ion-select-option
          class="label-font-value"
            style="max-width: max-content;font-family: 'Manrope', sans-serif;
            font-size: 15px !important;
            font-weight: 550;
            color: gray;"
            *ngFor="let WAR of WarehouseNameArr"
            >{{WAR.WarehouseName }}
          </ion-select-option>
   </ion-select>
   <ion-icon class="field-icon" name="caret-down-outline" slot="end"></ion-icon>
   </ion-item>
      </td>
      </tr>
    
      <tr>
        <td class="label-font"><span> Party Name </span></td>
        <td> : </td>
      <td class="label-font Imp" style="color: red"> 
     
        <ion-item>
        <ionic-selectable
          [items]="PartyName"
          itemValueField="id"
          itemTextField="PartyName"
          [canSearch]="true"
          formControlName="PartyName"
          (onChange)="portChange($event)"
        >
        </ionic-selectable>
      </ion-item>
</td>
</tr>
<tr>
  <td class="label-font"><span> WO No.</span></td>
  <td> : </td>
<td class="label-font Imp" style="color: red"> 

  <ion-item>
        <ionic-selectable
          [items]="Workordr"
          itemValueField="id"
          itemTextField="WorkOrder"
          [canSearch]="true"
          formControlName="WorkOrder"
          (onChange)="portChange1($event)"
        >
        </ionic-selectable>
      </ion-item>
      </td>
      </tr>
       
      <tr>
        <td class="label-font"><span> PO No. </span></td>
        <td> : </td>
      <td class="label-font Imp" style="color: red">
         <ion-item> 
        <ionic-selectable
          [items]="Orde"
          itemValueField="id"
          itemTextField="Orde"
          [canSearch]="true"
          formControlName="OrderNumber"
          (onChange)="portChangeOrdNo ($event)"
        >
        </ionic-selectable>
      </ion-item>
</td>
</tr>
   <tr>
  <td class="label-font"><span> Gate Pass No. </span></td>
  <td> : </td>
<td class="label-font Imp" style="color: red">
       <ion-item> 
         <div *ngIf="  this.yarnseetings   == 'False' ">  
        <ion-input
          type="text"
          class="label-font-value"
          formControlName="GatePass"
          style="font-family: 'Manrope', sans-serif;
          font-size: 15px !important;
          font-weight: 550;"
        ></ion-input>
     </div> 
     <div *ngIf="GatepassNumLoad.length != '' ">  
        <ion-select
          class="label-font-value"
          formControlName="GatePass"
          interface="action-sheet"
          (ionChange)="onchangeGatePass($event)"
          style="    max-width: 100%;"
        >
          <ion-select-option
            *ngFor="let GP of GatepassNumLoad ; let optionindex = index"
            style="font-size: 13px"
          >
            {{ GP.GatePass_No }}
          </ion-select-option>
 </ion-select>
 </div>
 </ion-item>
 </td>
 </tr>
 <tr>
  <td class="label-font"><span> DC No. </span></td>
  <td> : </td>
    <td class="label-font Imp" style="color: red">
       <ion-item> 
        <!-- <ion-label class="label-font">  <sup> * </sup></ion-label> -->
        <!-- <ion-label class="label-font"> <b> : </b></ion-label> -->
        <ion-input
          class="label-font-value"
          formControlName="DcNo"
          [(ngModel)]="DcNo"
          interface="popup"
          interface="action-sheet"
          (ionChange)="onchangeDcNo($event)"
          style="font-family: 'Manrope', sans-serif;
          font-size: 15px !important;
          font-weight: 550;"
        >
        </ion-input>
      </ion-item>
  </td>
  </tr>
  </table>
    
    <div class="Cardd">
      <ion-row>
        <ion-col size="6">
          <button type="button"  class="btn btn-outline-warning"  (click)="AddButoon()"> Add</button>
         
        </ion-col>

        <ion-col size="6">
          <button  type="button" class="btn btn-outline-warning"(click)="Clear()">
            Clear
          </button>
        </ion-col>
      </ion-row>
       
        <div class="bg-card bg-light" *ngFor="let rec of WsYarnYRECNOLoad">
          <b
            style="
              margin-top: -15px;
              margin-bottom: -26px !important;
              margin-left: 50px;   font-family: 'Manrope', sans-serif;
   font-size: 15px !important;
   font-weight: 550;
   color: rgb(243, 43, 43);
            "
            >Rec No. : {{rec.entry_no}}</b
          >
        </div>
   

      <ion-card
        class="label-font"
        *ngFor="let GRI of GridDetailsLoad; let optionindex = index"
        (click)="itemClick(GRI, optionindex)"
      >
      
        <div class="card">
          <ion-card-content>
               <img
                  *ngIf="GRI.selected == true"
                  class="avt-prod"
                  src="../../assets/icon/checked.png"
                />
                <img
                  *ngIf="GRI.selected == false"
                  class="avt-prod"
                  src="../../assets/icon/unchecked.png"
                />
             <table>
              <tr>
                <td class="label-font"><span>WO No.</span></td>
                <td> : </td>
                <td class="label-font Imp" style="color: red">{{GRI.WorkOrderNo}}</td>
              </tr>
              <tr>
                <td class="label-font"><span>PO No.</span></td>
                <td> : </td>
                <td class="label-font Imp">{{GRI.Y_PO_No}}</td>
              </tr>
              <tr>
                <td class="label-font"><span>Count</span></td>
                <td> : </td>
                <td class="label-font Imp">{{GRI.Count}} 
                  <!-- {{GRI.Color}} | <span>Rate</span> <b>:</b> {{GRI.Rec_Rate |
                  number : '1.0-2' }}-->
                </td> 
              </tr>
              <tr>
                <td class="label-font"><span>Ordered</span></td>
                <td> : </td>
                <td class="label-font Imp"> {{ GRI.Ordered }}  Kgs    <span style="color: black;"> Rate</span> <b> : </b> {{GRI.Rec_Rate |
                  number : '1.0-2' }} Kgs
                   </td>
              </tr>
              <tr>
                <td class="label-font"><span>Received</span></td>
                <td> : </td>
                <td class="label-font Imp"> {{GRI.Received  }}    {{ GRI.uom }}
                   </td>
              </tr>
              <tr>
                <td class="label-font"><span>Balance</span></td>
                <td> : </td>
                <td class="label-font Imp"> {{ this.bal | number: '1.3-3' | numberReplace }} {{ GRI.uom }}</td>
            </tr>
            
              <tr>
                <td class="label-font"><span>Ex %</span></td>
                <td> : </td>
                <td class="label-font Imp"> {{GRI.Ex_Per}}
                 </td>
              </tr>
              <tr>
                <td class="label-font"><span>Card No. </span></td>
                <td> : </td>
                <td class="label-font Imp"> {{GRI.CardNo}}
                 </td>
              </tr>
           
              <tr>
                <td class="label-font"><span>Lot No. </span></td>
                <td> : </td>
                <td class="label-font Imp">{{GRI.lot_no }} 
                 </td>
              </tr>
              <tr>
                <td class="label-font"><span>Warehouse </span></td>
                <td> : </td>
                <td class="label-font Imp">{{GRI.WareHouse }} 
                 </td>
              </tr>
              <tr>
                <td class="label-font"><span>Mill  </span></td>
                <td> : </td>
                <td class="label-font Imp">{{GRI.MillName}} 
                 </td>
              </tr>
              <tr>
                <td class="label-font"><span><p>Remarks   </span></td>
                <td> : </td>
                <td class="label-font Imp"> {{GRI.Remarks}}
                 </td>
              </tr>
              <tr>
                <td class="label-font"><span>Now Received</span></td>
                <td> : </td>
                <td class="label-font Imp"> {{NowreQty}}
                 </td>
              </tr>
              <tr>
                <td class="label-font"><span>Packs </span></td>
                <td> : </td>
                <td class="label-font Imp"> {{GRI.Bags}}
                 </td>
              </tr>
              <tr>
                <td class="label-font"><span>Sub Pack </span></td>
                <td> : </td>
              <td class="label-font Imp">{{GRI.cones }} 
               </td>
              </tr>
            </table>
        
            <ion-row style="margin-bottom: 10px">
              <ion-col size="5"> </ion-col>
              <div *ngIf="this.SingleConeWeight != ''">
              <ion-col size="6">
                <button class="Button1" (click)="Save()">
                  SAVE
                </button>
              </ion-col>
              </div>
            </ion-row>
          </ion-card-content>
        </div>
        
      </ion-card>

      <!-- <button class="Button" (click)="Save()">Save</button> -->
      <!-- <div class="divcard">
      <ion-card class="card">
        <div class="smallheader">
          <input
            id="actives"
           class="bg-card bg-light"
            *ngFor="let GRI of GridDetailsLoad; let optionindex = index"
            (click)="itemClick(c, optionindex)"
            name="card"
            type="radio"
            class="chb"
            style="background-color: #e75151; width: 20px; height: 30px"
          />
          <ion-card-content>
            <ion-row>
              <ion-col size="1">
                <img
                  *ngIf="c.selected == true"
                  class="avt-prod"
                  src="../../assets/icon/checked.png"
                />
                <img
                  *ngIf="c.selected == false"
                  class="avt-prod"
                  src="../../assets/icon/unchecked.png"
                />
                </ion-col>
                </ion-row>
                </ion-card-content>
          <ion-chip style= "margin-right: 10px;color: #e75151;margin-top: 10px;"> {{ index + 1 }}  </ion-chip>  
        </div>
        <p>Po : <span class="Imp">{{GRI.WorkOrderNo}}</span></p>
        <p>Ord : <span class="Imp">{{GRI.Y_PO_No}}</span></p>
        <p>Order : {{GRI.Ordered}} | Already Rec : {{GRI.Received
        }} </p>
      
        <p style="color: red;font-weight: bold;">  Bal : {{ GRI.Bal | number : '1.0-2'}} | {{GRI.uom}} </p>
        <p>Now Rec : {{NowreQty}}</p> 
        <p style="color: red;font-weight: bold;">Count : {{GRI.Count}} | {{GRI.Color}}</p>
        <p >Ex % : {{GRI.Ex_Per}} | CardNo : {{GRI.CardNo}}</p>
       
        <p>Pakes : {{GRI.Bags}} | Sub Pack : {{GRI.subpack }}</p>
        <p>Lot No.: {{GRI.lot_no }} | WareHouse: {{GRI.WareHouse }}</p>
        <p>Mill : {{GRI.MillName}}</p>
        <p>Remarks : {{GRI.Remarks}}</p>
       </ion-card> -->

      <!-- <ion-row style="margin-bottom: 10px;">
        <ion-col size="4">
          <button class="Button" (click)="Save()">Save</button>
         
        </ion-col>
        <ion-col size="4">
          <button class="Button" (click)="Edit()">Edit</button>
        </ion-col>
        <ion-col size="4">
          <button class="Button" (click)="presentAlert()">Delete</button>
        </ion-col>
      </ion-row> -->
 </div>
 
  </form>
</ion-content>
